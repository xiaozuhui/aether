// 快速测试新的数据结构库
// 运行: aether stdlib/examples/quick_test.aether

PRINTLN("=== Aether 数据结构快速测试 ===")
PRINTLN("")

// 测试 Set
PRINTLN("1. 测试 Set（集合）")
Set S1 SET_FROM_ARRAY([1, 2, 3, 2, 4, 3, 5])
PRINTLN("  去重后: " + SET_TO_STRING(S1))
Set S2 SET_FROM_ARRAY([4, 5, 6, 7])
Set UNION SET_UNION(S1, S2)
PRINTLN("  并集: " + SET_TO_STRING(UNION))
PRINTLN("  ✓ Set 正常工作")
PRINTLN("")

// 测试 Queue
PRINTLN("2. 测试 Queue（队列）")
Set Q QUEUE_NEW()
Set Q QUEUE_ENQUEUE(Q, "A")
Set Q QUEUE_ENQUEUE(Q, "B")
Set Q QUEUE_ENQUEUE(Q, "C")
PRINTLN("  队列: " + QUEUE_TO_STRING(Q))
Set R QUEUE_DEQUEUE(Q)
PRINTLN("  出队: " + R["value"])
PRINTLN("  剩余: " + QUEUE_TO_STRING(R["queue"]))
PRINTLN("  ✓ Queue 正常工作")
PRINTLN("")

// 测试 Stack
PRINTLN("3. 测试 Stack（栈）")
Set STK STACK_NEW()
Set STK STACK_PUSH(STK, 10)
Set STK STACK_PUSH(STK, 20)
Set STK STACK_PUSH(STK, 30)
PRINTLN("  栈: " + STACK_TO_STRING(STK))
Set R STACK_POP(STK)
PRINTLN("  出栈: " + TO_STRING(R["value"]))
PRINTLN("  剩余: " + STACK_TO_STRING(R["stack"]))
PRINTLN("  ✓ Stack 正常工作")
PRINTLN("")

// 测试 Heap
PRINTLN("4. 测试 Heap（堆）")
Set H MIN_HEAP_FROM_ARRAY([5, 3, 7, 1, 9, 2])
PRINTLN("  最小堆: " + MIN_HEAP_TO_STRING(H))
PRINTLN("  最小值: " + TO_STRING(MIN_HEAP_PEEK(H)))
Set R MIN_HEAP_EXTRACT(H)
PRINTLN("  提取后: " + MIN_HEAP_TO_STRING(R["heap"]))
PRINTLN("  ✓ Heap 正常工作")
PRINTLN("")

// 测试 Sorting
PRINTLN("5. 测试 Sorting（排序）")
Set ARR [64, 34, 25, 12, 22, 11, 90]
PRINTLN("  原数组: " + TO_STRING(ARR))
Set SORTED QUICK_SORT(ARR)
PRINTLN("  快排后: " + TO_STRING(SORTED))
PRINTLN("  已排序: " + TO_STRING(IS_SORTED_ASC(SORTED)))
PRINTLN("  ✓ Sorting 正常工作")
PRINTLN("")

PRINTLN("=== 所有测试通过！✓ ===")
